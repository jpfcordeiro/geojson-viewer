<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualizador GeoJSON Interativo</title>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/theme/material-darker.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <h1>Visualizador GeoJSON Interativo</h1>
    </header>

    <div class="main-container">
        <div class="controls">
            <h2>Controles</h2>
            <div>
                <label for="geojsonFile">Carregar GeoJSON (arquivo):</label>
                <input type="file" id="geojsonFile" accept=".geojson,.json">
            </div>

            <hr> 

            <h3>Estilo do GeoJSON</h3>
            <div class="control-group">
                <label for="styleColor">Cor da Linha/Borda:</label>
                <input type="color" id="styleColor" value="#3388ff">
            </div>
            <div class="control-group">
                <label for="styleWeight">Espessura Linha/Borda (px): <span id="weightValue">3</span></label>
                <input type="range" id="styleWeight" min="0" max="10" step="1" value="3">
            </div>
            <div class="control-group">
                <label for="styleOpacity">Opacidade Linha/Borda: <span id="opacityValue">1.0</span></label>
                <input type="range" id="styleOpacity" min="0" max="1" step="0.05" value="1">
            </div>
            <h4>Para Polígonos:</h4>
            <div class="control-group">
                <label for="styleFillColor">Cor do Preenchimento:</label>
                <input type="color" id="styleFillColor" value="#3388ff">
            </div>
            <div class="control-group">
                <label for="styleFillOpacity">Opacidade Preenchimento: <span id="fillOpacityValue">0.2</span></label>
                <input type="range" id="styleFillOpacity" min="0" max="1" step="0.05" value="0.2">
            </div>
            <h4>Para Pontos (Círculos):</h4>
            <div class="control-group">
                <label for="stylePointColor">Cor do Ponto:</label>
                <input type="color" id="stylePointColor" value="#ff0000">
            </div>
            <div class="control-group">
                <label for="styleRadius">Raio do Ponto (px): <span id="radiusValue">6</span></label>
                <input type="range" id="styleRadius" min="1" max="20" step="1" value="6">
            </div>
            <button id="applyStyleButton">Aplicar Estilo</button>

            <hr>

            <h3>Exportar</h3>
            <div class="control-group">
                <button id="exportGeoJsonButton">Exportar como GeoJSON</button>
            </div>
            <div class="control-group">
                <button id="exportImageButton">Exportar Mapa como PNG</button>
            </div>

        </div>
        
        <div id="map"></div>

        <div class="geojson-input-area">
            <h2>Inserir GeoJSON (texto)</h2>
            <textarea id="geojsonTextarea"></textarea>
            <button id="renderTextButton">Renderizar do Texto</button>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/addon/edit/matchbrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/addon/edit/closebrackets.min.js"></script>
    
    <script src="https://unpkg.com/leaflet-image@0.4.0/dist/leaflet-image.js"></script>

    <script src="js/app.js"></script>
</body>
</html>